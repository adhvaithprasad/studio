<!DOCTYPE html>
<html>

<head>
	<title>editor</title>

	<link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
	<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="style.css">
	<!-- Remember to include jQuery :) -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>
	<!-- jQuery Modal -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
</head>

<body>
<style>
	html,
	body {
	  width: 100%;
	  height: 100%;
	  margin: 0;
	}
	.ace_gutter{
	  background: white;
	}
	main {
	  display: flex;
	  flex: 1;
	  position: relative;
	  height: calc( 100% - 64px);
	}

	#editor {
	  flex: 1;
	}
	#popup {
	  display: none;
	 position: fixed;
	 top: 12%;
	 left: 15%;
	  width: 70%;
	height: 70%;
	background-color: white;
	z-index: 10;
	border-radius: 7px;
	}
	#popup iframe {
	  width: 100%;
	  height: 100%;
	  border: 0;
	  }
	#popupdarkbg {
	  position: fixed;
	  z-index: 5;
	  left: 0;
	  top: 0;
	  width: 100%;
	  height: 100%;
	  overflow: hidden;
	  background-color: rgba(0,0,0,.75);
	  display: none;
	  }
	  #runwrapper i:hover{
	  color:dodgerblue;
	  }
	   #runwrapper i{
	  color:gray;
	  }
	  #fixedbutton {
	      position: fixed;
	      bottom: 10px;
	      right: 10px;
	  }
	#popup1 {
	  display: none;
	 position: fixed;
	 top: 12%;
	 left: 15%;
	  width: 70%;
	height: 70%;
	background-color: white;
	z-index: 10;
	border-radius: 7px;
	}
	#popup1 iframe {
	  width: 100%;
	  height: 100%;
	  border: 0;
	  }
	#popupdarkbg1 {
	  position: fixed;
	  z-index: 5;
	  left: 0;
	  top: 0;
	  width: 100%;
	  height: 100%;
	  overflow: hidden;
	  background-color: rgba(0,0,0,.75);
	  display: none;
	  }
	  #runwrapper1 i:hover{
	  color:dodgerblue;
	  }
	   #runwrapper1 i{
	  color:gray;
	  }
	  #fixedbutton1 {
	      position: fixed;
	      bottom: 10px;
	      right: 10px;
	  }


	  #sketchpad {
	      margin: auto;
	      width: 100%;
	      height: 800px;
	      background-repeat: repeat;
	  }

	  .toolbar {
	    width: 100%;
	    min-width: 228px;
	    background-color: #fafafa;
	    text-align: center;
	    padding: 14px;
	    display: inline-block;
	  }
	  .toolbar .section {
	    clear:both;
	    margin-bottom: 8px;
	  }
	  .toolbar .slider {
	    width: 100%;
	  }

	  .toolbar .button {
	    float: left;
	    width: 32px;
	    height: 32px;
	    line-height: 32px;
	    cursor: pointer;
	    text-align: center;
	  }

	  .toolbar .button.active {
	    background-color: rgba(0, 0, 0, .5);
	    color: rgba(255, 255, 255, 1);
	  }

	</style>
	<header class="mdc-top-app-bar">
		<div class="mdc-top-app-bar__row">
			<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
				<button id="hu" class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" aria-label="Open navigation menu">menu</button> <span class="mdc-top-app-bar__title">Firestudio</span>
			</section>
			<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">

				<button class="mdc-button  mdc-button--raised" id="link" style="color:#6200ee !important;background:white !important;"> <span class="mdc-button__label">Run</span>
				</button>
			</section>
		</div>
	</header>
	<br>
	<br>
	<br>
	<div id="popup">
		<div id="runwrapper" style="border-bottom: 3px solid dodgerblue;
       text-align: center;
       padding-top: 20px;
       font-family: 'Quicksand', sans-serif;
       font-weight: 1000;
       padding-bottom: 5px;
       color: dodgerblue;">Run output <i class="fa fa-external-link" style="margin-right:10px; float:right;padding-top:6px;" onclick="buttonclick68()"></i>
		</div>
		<iframe id="popupiframe"></iframe>
	</div>
	<div id="popupdarkbg"></div>




	<div id="popup1">
		<div id="runwrapper1" style="border-bottom: 3px solid dodgerblue;
		background:#464646;
       text-align: center;
       padding-top: 20px;
       font-family: 'Quicksand', sans-serif;
       font-weight: 1000;
       padding-bottom: 5px;
       color: dodgerblue;"> Chat <i class="fa fa-external-link" style="margin-right:10px; float:right;padding-top:6px;" onclick="buttonclick68()"></i>
		</div>
		<iframe id="popupiframe1"></iframe>
	</div>
	<div id="popupdarkbg1"></div>





	<main>
		<div class="mdc-dialog luck-2" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content">
			<div class="mdc-dialog__container">
				<div class="mdc-dialog__surface">
					<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
					<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
     -->Keyboard shortcuts<!--
   --></h2>
					<div class="mdc-dialog__content" id="my-dialog-content">
            <b>Tip : </b> Click on the editor once before using the Shortcuts in case of errors<br>
						<br>Settings pallette : <b>Ctrl</b> + <b> ,</b>
						<br>Find and replace : <b>Ctrl</b> + <b>F</b>
						<br>To lowercase : <b>Ctrl</b> + <b>Shift</b> + <b> U</b>
						<br>Undo : <b>Ctrl</b> + <b>Z</b>
						<br>Redo : <b>Ctrl</b> + <b>Shift</b> + <b> Z </b>
						<br>Go to line : <b>Ctrl</b> + <b>L</b>
						<br>Comment : <b>Ctrl</b> + <b>/ </b>
						<br>
					</div>
					<footer class="mdc-dialog__actions">
						<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">Close</button>
					</footer>
				</div>
			</div>
			<div class="mdc-dialog__scrim"></div>
		</div>
		<div class="mdc-dialog luck-1" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content" id="hick">
			<div class="mdc-dialog__container">
				<div class="mdc-dialog__surface">
					<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
					<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
   -->Download file as<!--
 --></h2>
					<div class="mdc-dialog__content" id="my-dialog-content">
						<label class="mdc-text-field mdc-text-field--filled"> <span class="mdc-text-field__ripple"></span>
							<!--<span class="mdc-floating-label" id="my-label-id">Hint text</span>-->
							<input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" placeholder="Filename"> <span class="mdc-line-ripple"></span>
						</label>
					</div>
					<footer class="mdc-dialog__actions">
						<button type="button" class="mdc-button mdc-dialog__button" id="save">Download</button>
						<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">Close</button>
					</footer>
				</div>
			</div>
			<div class="mdc-dialog__scrim"></div>
		</div>
		<div class="mdc-dialog luck-3" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content" id="hick">
			<div class="mdc-dialog__container">
				<div class="mdc-dialog__surface">
					<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
					<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
   --><b> Firestudio </b><!--
 --></h2>
					<div class="mdc-dialog__content" id="my-dialog-content">firestudio is a Cloud based (C9) editor for developing HTML applications. Firestudio strictly adheres to google's material design guidelines. Firestudio has a very powerful UI making it easy to develop applications for beginners as well as powerful features for experienced developers.Firestudio is a client side editor ie: firestudio does not collect any user data.
						<br>
						<br>
						<b> Developed by Adhvaith prasad </b>
					</div>
					<footer class="mdc-dialog__actions">
						<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">Close</button>
					</footer>
				</div>
			</div>
			<div class="mdc-dialog__scrim"></div>
		</div>
		<div class="mdc-dialog luck-5" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content">
			<div class="mdc-dialog__container">
				<div class="mdc-dialog__surface">
					<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
					<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
     -->Color picker<!--
   --></h2>
	 <div class="mdc-dialog__content" id="my-dialog-content">
					 <style>
						#primary_color{
						    border-radius: 100%;
						    height: 60px;
						    width: 60px;
						    border: none;
						    outline: none;
						    -webkit-appearance: none;
						}

						#primary_color::-webkit-color-swatch-wrapper {
						    padding: 0;
						}
						#primary_color::-webkit-color-swatch {
						    border: none;
						    border-radius: 100%;
						}

						</style>
						<div class="container">
    <input type="color" id="primary_color" class="field-radio">
    <span class="container" id="color_val"></span>
          </div>
						<script>
						var colorButton = document.getElementById("primary_color");
						    var colorDiv = document.getElementById("color_val");
						    colorButton.onchange = function() {
						        colorDiv.innerHTML = colorButton.value;
						        colorDiv.style.color = colorButton.value;
						    }
						</script>
					</div>
					<footer class="mdc-dialog__actions">
						<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">Close</button>
					</footer>
				</div>
			</div>
			<div class="mdc-dialog__scrim"></div>
		</div>


		<div class="mdc-dialog luck-6" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content">
			<div class="mdc-dialog__container">
				<div class="mdc-dialog__surface">
					<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
					<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
		 -->Music<!--
	 --></h2>
	 <div class="mdc-dialog__content" id="my-dialog-content">
					<h2>Why not stay in the mood with some Lofi-beats</h2><br><br>
<iframe src="https://open.spotify.com/embed/artist/0KNIXlZbeaDBiaKIjNN8Gr" width="100%" height="380" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
					</div>
					<footer class="mdc-dialog__actions">
						<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">Close</button>
					</footer>
				</div>
			</div>
			<div class="mdc-dialog__scrim"></div>
		</div>

		<div class="mdc-dialog luck-4" role="alertdialog" aria-modal="true" aria-labelledby="my-dialog-title" aria-describedby="my-dialog-content" id="hick">
			<div class="mdc-dialog__container">
				<div class="mdc-dialog__surface">
					<!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
					<h2 class="mdc-dialog__title" id="my-dialog-title"><!--
   --><b> Find and replace</b><!--
 --></h2>
					<div class="mdc-dialog__content" id="my-dialog-content">

						<label class="mdc-text-field mdc-text-field--filled"> <span class="mdc-text-field__ripple">Find</span>
						 <!--<span class="mdc-floating-label" id="my-label-id">Hint text</span>-->
						  <input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id"  id="find_value"> <span class="mdc-line-ripple"></span>
					 </label>
					  <br><br>
					 <button class="mdc-button  mdc-button--raised" onclick="find()"> <span class="mdc-button__label">Find </span>
					 </button>
					 <button class="mdc-button  mdc-button--raised" onclick="findall()"> <span class="mdc-button__label">Find all</span>
					 </button>
					 <br><br>
					 <label class="mdc-text-field mdc-text-field--filled"> <span class="mdc-text-field__ripple">Replace</span>
						<!--<span class="mdc-floating-label" id="my-label-id">Hint text</span>-->
						 <input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id"  id="replace_value"><span class="mdc-line-ripple"></span>
					</label>
					<br><br>
					<button class="mdc-button  mdc-button--raised" onclick="find_and_replace()"> <span class="mdc-button__label">Find and Replace</span>
					</button>
					<button class="mdc-button  mdc-button--raised" onclick="find_and_replaceall()"> <span class="mdc-button__label">Find and Replace all</span>
					</button>

						<!-- </section>  -->



					</div>
					<footer class="mdc-dialog__actions">
						<button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="no">Close</button>
					</footer>
				</div>
			</div>
			<div class="mdc-dialog__scrim"></div>
		</div>
		<div class="frame1" style="
      /* width: 60px; */
      padding-right: 5px;
      padding-left: 8px;
      text-align: center;
      display:none;
      padding-top:10px;
  " id="frame1">
			<div class="mdc-touch-target-wrapper">
				<button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" onclick="ho()" data-md-tooltip="Download" style="background:#002240;">
					<div class="mdc-fab__ripple"></div> <i class="material-icons mdc-button__icon" aria-hidden="true">file_download</i
    >
      <div class="mdc-fab__touch"></div>
    </button><br><br>
    <button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" onclick="hm()" data-md-tooltip="Help" style="background:#002240;">
      <div class="mdc-fab__ripple"></div>
      <i class="material-icons mdc-button__icon" aria-hidden="true"
      >help_outline</i
    ><div class="mdc-fab__touch"></div>
	</button><br><br>
		<button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" onclick="hl()" data-md-tooltip="Help" style="background:#002240;">
      <div class="mdc-fab__ripple"></div>
      <i class="material-icons mdc-button__icon" aria-hidden="true"
      >music_note</i
    ><div class="mdc-fab__touch"></div>
	</button><br><br>
    <button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" id="link1" data-md-tooltip="Help" style="background:#002240;">
      <div class="mdc-fab__ripple"></div>
      <i class="material-icons mdc-button__icon" aria-hidden="true"
      >chat_bubble</i
    >
      <div class="mdc-fab__touch"></div>
    </button><br><br>
    <button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" onclick="hu()" data-md-tooltip="Find and Replace" style="background:#002240;">
      <div class="mdc-fab__ripple"></div>
      <i class="material-icons mdc-button__icon" aria-hidden="true"
      >search</i
    >
      <div class="mdc-fab__touch"></div>
    </button><br><br>
		<button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" onclick="hi()" data-md-tooltip="Find and Replace" style="background:#002240;">
			<div class="mdc-fab__ripple"></div>
			<i class="material-icons mdc-button__icon" aria-hidden="true"
			>keyboard_alt</i
		>
			<div class="mdc-fab__touch"></div>
		</button><br><br>
    <button class="mdc-fab mdc-fab--mini mdc-fab--touch md-tooltip--right" id="open-dialog" onclick="hk()"  data-md-tooltip="Keyboard shortcuts" style="background:#002240;">
      <div class="mdc-fab__ripple"></div>
      <i class="material-icons mdc-button__icon" aria-hidden="true"
      >border_color</i
    >
      <div class="mdc-fab__touch"></div>
    </button>
  </div>
      </div>

  <div id="editor" style="margin-top:10px;">&lt;!Doctype html&gt;
  &lt;html&gt;
      &lt;head&gt;
          &lt;title&gt;

          &lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;

      &lt;/body&gt;
  &lt;/html&gt;
  </div>
<!--  <iframe src="" id="iframe" frameBorder="0"> </iframe>-->
  <!-- <a href="#" class="result"></a> -->



</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js" integrity="sha512-GZ1RIgZaSc8rnco/8CXfRdCpDxRCphenIiZ2ztLy3XQfCbQUSCuk8IudvNHxkRA3oUg6q0qejgN/qqyG1duv5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ext-language_tools.js"></script>
<script>
	const editor = ace.edit('editor');
	require('ace/ext/language_tools');
	editor.setOptions({
	              enableBasicAutocompletion: true,
	              enableSnippets: false,
	              enableLiveAutocompletion: true,
	            //  useWrapMode: true,
	              highlightActiveLine: true,
	              showPrintMargin: false,
	              theme: 'ace/theme/xcode',
	              mode: 'ace/mode/html',

	});
	document.getElementById('editor').style.fontSize='20px';
	editor.getSession().setUseWorker(false);
	var url = null;
	function createUrl(html) {
	  var blob = new Blob([html], { type: 'text/html' })
	  return URL.createObjectURL(blob)
	}


	function removeUrl(url) {
	  URL.revokeObjectURL(url)
	}
	function getIframe() {
	  var iframe = document.getElementById('iframe')
	  return iframe
	}

	function setIframeUrl(url) {
	  var iframe = getIframe()
	  iframe.src = url
	}

	function getEditorCode() {
	  return editor.session.getValue()
	}
	document.getElementById("link1").onclick = function(e) {
	  e.preventDefault();
	   var code = getEditorCode();
	  removeUrl(url);
	  url = createUrl(code);
	  document.getElementById("popupdarkbg1").style.display = "block";
	  document.getElementById("popup1").style.display = "block";
	  //document.getElementById('popupiframe').src = url;
	  document.getElementById('popupiframe1').src = "https://lowchat.adhvaithprasad.repl.co/";
	  document.getElementById('popupdarkbg1').onclick = function() {
	      document.getElementById("popup1").style.display = "none";
	      document.getElementById("popupdarkbg1").style.display = "none";
	  };
	  return false;
	}

	window.onkeydown = function(e) {
	    if (e.keyCode == 27) {
	      document.getElementById("popup1").style.display = "none";
	      document.getElementById("popupdarkbg1").style.display = "none";
	      e.preventDefault();
	      return;
	    }
	}



	document.getElementById("link").onclick = function(e) {
	  e.preventDefault();
	   var code = getEditorCode();
	  removeUrl(url);
	  url = createUrl(code);
	  document.getElementById("popupdarkbg").style.display = "block";
	  document.getElementById("popup").style.display = "block";
	  document.getElementById('popupiframe').src = url;

	  document.getElementById('popupdarkbg').onclick = function() {
	      document.getElementById("popup").style.display = "none";
	      document.getElementById("popupdarkbg").style.display = "none";
	  };
	  return false;
	}

	window.onkeydown = function(e) {
	    if (e.keyCode == 27) {
	      document.getElementById("popup").style.display = "none";
	      document.getElementById("popupdarkbg").style.display = "none";
	      e.preventDefault();
	      return;
	    }
	}




	var timesClicked = 0;
	$("#hu").click(function() {
	    timesClicked++;

	    if (timesClicked%2==0) {
	        document.getElementById('frame1').style.display="none";

	    } else {
	        //run first function
	        document.getElementById('frame1').style.display="block";

	    }
	})


	function hi(){
	  new mdc.dialog.MDCDialog(document.querySelector('.luck-2')).open();
	}
	function ho(){
	new mdc.dialog.MDCDialog(document.querySelector('.luck-1')).open();
	}
	function hm(){
	new mdc.dialog.MDCDialog(document.querySelector('.luck-3')).open();
	}
	function hu(){
	new mdc.dialog.MDCDialog(document.querySelector('.luck-4')).open();
	}
	function hk(){
	new mdc.dialog.MDCDialog(document.querySelector('.luck-5')).open();
	}
	function hl(){
	new mdc.dialog.MDCDialog(document.querySelector('.luck-6')).open();
	}
	function download_txt() {
	  var save = document.querySelector('.mdc-text-field__input').value;
	  var textToSave = getEditorCode() ;
	  var hiddenElement = document.createElement('a');
	  hiddenElement.href = 'data:attachment/text,' + encodeURI(textToSave);
	  hiddenElement.target = '_blank';
	  hiddenElement.download = save + ".wafer";
	  hiddenElement.click();
	}

	document.getElementById('save').addEventListener('click', download_txt);


	function find_and_replace(){
	  var find_value = document.getElementById('find_value').value;
	  var replace_value = document.getElementById('replace_value').value;
	  editor.find(find_value);
	  editor.replace(replace_value);

	}
	function find_and_replaceall(){
	  var find_value = document.getElementById('find_value').value;
	  var replace_value = document.getElementById('replace_value').value;
	  editor.findAll(find_value);
	  editor.replaceAll(replace_value);

	}
	function findall(){
	  var find_value = document.getElementById('find_value').value;
	  editor.findAll(find_value);
	}
	function find(){
	  var find_value = document.getElementById('find_value').value;
	  editor.find(find_value);
	}
	// function replaceall(){
	//   var find_value = document.getElementById('find_value').value;
	//   var replace_value = document.getElementById('replace_value').value;
	//   editor.replaceAll(replace_value);
	// }
	// function replace(){
	//   var find_value = document.getElementById('find_value').value;
	//   var replace_value = document.getElementById('replace_value').value;
	//   editor.replace(replace_value);
	// }
	// function replace(){
	//   var find_value = document.getElementById('replace_value').value;
	//   editor.replace(replace_value);
	// }

</script>
 </body>
</html>
